{"version":3,"sources":["components/SearchBar.module.css","components/Modal.module.css","components/imageGallery.module.css","components/SearchBar.jsx","components/ImageGalleryItem.jsx","components/ImageGallery.jsx","components/Button.jsx","components/Modal.jsx","App.js","reportWebVitals.js","index.js"],"names":["module","exports","SearchBar","state","query","onSearch","e","preventDefault","props","onSubmit","onFilterChange","value","currentTarget","setState","className","styles","searchBar","searchInput","type","autoComplete","autoFocus","placeholder","this","onChange","disabled","length","onClick","searchButton","Component","ImageGalleryItem","images","map","image","listItem","target","toggleModal","largeImageURL","src","previewURL","alt","tags","listImage","ImageGallery","console","log","imageGallery","Button","containerMore","moreButton","fetchImages","toggleLoader","modalRoot","document","querySelector","Modal","onEscape","code","onOverlayClick","window","addEventListener","removeEventListener","createPortal","overlay","modal","children","apiKey","App","currentPage","searchQuery","showModal","imageSrc","isLoading","onSearchQuery","axios","then","res","data","hits","pictures","prevState","onSmoothScroll","setTimeout","scrollTo","top","behavior","prevProps","color","height","width","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d73b0c2e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchBar\":\"SearchBar_searchBar__2YIYB\",\"searchInput\":\"SearchBar_searchInput__2_ilV\",\"searchButton\":\"SearchBar_searchButton__1HHjF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__1wBxK\",\"modal\":\"Modal_modal__3Dhbp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"imageGallery_imageGallery__2F2N0\",\"listImage\":\"imageGallery_listImage__15u4q\",\"listItem\":\"imageGallery_listItem__38IpK\",\"containerMore\":\"imageGallery_containerMore__3RLA_\",\"moreButton\":\"imageGallery_moreButton__16T0T\"};","import React, { Component } from 'react'\r\nimport styles from './SearchBar.module.css'\r\n\r\nclass SearchBar extends Component {\r\n\r\n    state = {\r\n        query: '',\r\n    }\r\n\r\n    onSearch = (e) => {\r\n        e.preventDefault();\r\n        this.props.onSubmit(this.state.query)\r\n    }\r\n    onFilterChange = (e) => {\r\n        const { value } = e.currentTarget;\r\n        this.setState({query: value})\r\n    }\r\n    render() {\r\n        return (\r\n        <header className={styles.searchBar}>\r\n            <form className=\"SearchForm\">\r\n                <input\r\n                   className={styles.searchInput}\r\n                    type=\"text\"\r\n                    autoComplete=\"off\"\r\n                    autoFocus\r\n                    placeholder=\"Search images and photos\"\r\n                    value={this.state.query}     \r\n                    onChange={this.onFilterChange}   \r\n                    />\r\n                    <button\r\n                        disabled={this.state.query.length ? false : true}\r\n                        onClick={this.onSearch}\r\n                        type=\"submit\"\r\n                        className={styles.searchButton}>\r\n                            Search\r\n                        </button>   \r\n            </form>\r\n        </header>\r\n    )\r\n    }\r\n}\r\n\r\nexport default SearchBar;","import React from 'react'\r\nimport styles from './imageGallery.module.css'\r\n\r\nconst ImageGalleryItem = (props) => {\r\n\r\n\r\n\r\n    return (\r\n        props.images.map(image => {\r\n            return (\r\n                <li className={styles.listItem}>\r\n                    <img onClick={(e) => {\r\n                        if (e.currentTarget === e.target) {\r\n                            props.toggleModal(image.largeImageURL);\r\n                        }\r\n                    }}\r\n                        src={image.previewURL}\r\n                        alt={image.tags}\r\n                        className={styles.listImage} />\r\n                </li>\r\n            )\r\n        })\r\n    )\r\n}\r\n\r\nexport default ImageGalleryItem;","import React from 'react'\r\nimport ImageGalleryItem from './ImageGalleryItem'\r\nimport styles from './imageGallery.module.css'\r\n\r\nconst ImageGallery = (props) => {\r\n    console.log(props.images);\r\n    return (\r\n        <ul className={styles.imageGallery}>\r\n            <ImageGalleryItem images={props.images} toggleModal={ props.toggleModal}/>\r\n        </ul>\r\n    )\r\n}\r\n\r\nexport default ImageGallery;","import React from 'react'\r\nimport styles from './imageGallery.module.css'\r\n\r\nconst Button = (props) => {\r\n\r\n    const onLoadMoreClick = () => {\r\n        props.fetchImages();\r\n        props.toggleLoader()\r\n        // props.onSmoothScroll()\r\n    }\r\n    return (\r\n        <div className={styles.containerMore}>\r\n            <button className={styles.moreButton} onClick={onLoadMoreClick}>\r\n                    Load More\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Button;","import React, { Component } from 'react'\r\nimport styles from './Modal.module.css';\r\nimport {createPortal} from 'react-dom'\r\n// import * as basicLightbox from 'basiclightbox'\r\n\r\n// const instance = basicLightbox.create(`\r\n//     <img src=\"assets/images/image.png\" width=\"800\" height=\"600\">\r\n// `)\r\n\r\nconst modalRoot = document.querySelector('#modal-root')\r\n\r\nclass Modal extends Component {\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('keydown',this.onEscape)\r\n    }\r\n\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('keydown', this.onEscape)\r\n    }\r\n\r\n    onEscape = (e) => {\r\n            if (e.code === 'Escape') {\r\n                this.props.toggleModal()\r\n                console.log(e.code);\r\n            }\r\n    } \r\n\r\n    onOverlayClick = (e) => {\r\n        if (e.currentTarget === e.target) {\r\n            this.props.toggleModal()\r\n        }\r\n    }\r\n    render() {\r\n        return createPortal(<div onClick={this.onOverlayClick} className={styles.overlay}>\r\n            <div className={styles.modal}>\r\n                {this.props.children}\r\n            </div>\r\n        </div>, modalRoot)\r\n    }\r\n}\r\n\r\nexport default Modal;","// import logo from './logo.svg';\nimport React, { Component } from 'react'\nimport './App.css';\nimport SearchBar from './components/SearchBar'\nimport ImageGallery from './components/ImageGallery'\nimport Button from './components/Button'\n// import Loader from './components/Loader'\nimport Modal from './components/Modal'\nimport * as axios from 'axios'\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from 'react-loader-spinner'\n\n\nconst apiKey = '20377131-0ebe9e49bfd56e929e88257a9'\nclass App extends Component {\n\n  state = {\n    images: [],\n    currentPage: 1,\n    searchQuery: '',\n    showModal: false,\n    imageSrc: '',\n    isLoading: false\n    // isLoadMore: false,\n  }\n\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImages()\n    }\n  }\n  \n  onSearchQuery = (query) => {\n    this.setState({ searchQuery: query, currentPage: 1, images: [] });\n    this.toggleLoader();\n  }\n\n  fetchImages = () => {\n    const {currentPage, searchQuery} = this.state\n    return axios.get(`https://pixabay.com/api/?q=${searchQuery}&page=${currentPage}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=12`)\n      .then(res => res.data).then(data => data.hits)\n      .then((pictures) => {\n        this.setState(prevState => ({\n          ...prevState,\n          images: [...prevState.images, ...pictures],\n          currentPage: prevState.currentPage + 1,\n        }))\n      }).then(() => {\n        this.onSmoothScroll();\n        this.toggleLoader()\n      })\n  }\n\n  toggleLoader = () => {\n    this.setState(({isLoading}) => ({\n      isLoading: !isLoading,\n    }))\n  }\n  onSmoothScroll = () => {\n    if (this.state.currentPage > 2) {\n      setTimeout(() => {\n        window.scrollTo({\n            top: 1000000,\n            behavior: 'smooth'\n        })\n      }, 500)\n    }\n  }\n  toggleModal = (src) => {\n    this.setState(({ showModal, imageSrc }) => ({\n      showModal: !showModal, \n      imageSrc: src,\n    }))\n  }\n  render() {\n    const { images, isLoading, showModal, imageSrc, searchQuery } = this.state;\n\n    return (\n    <div className=\"App\">\n        <SearchBar\n          onSubmit={this.onSearchQuery} />\n        <ImageGallery\n          images={images}\n          toggleModal={this.toggleModal}\n        />\n        {images.length > 0 && !isLoading && <Button toggleLoader={this.toggleLoader} fetchImages={this.fetchImages} />}\n        {this.state.isLoading &&\n          <div className='loader'><Loader type=\"BallTriangle\" color=\"#000080\" height={40} width={40} /></div>}\n        {showModal &&\n          <Modal\n            toggleModal={this.toggleModal}>\n          <img\n            src={imageSrc}\n            alt=\"\"\n          />\n          </Modal>}\n        {images.length === 0 && searchQuery.length > 0 && !isLoading && <div className='emptyPage'>\n          <p>Oops, nothing found</p>\n        </div>}\n    </div>\n  )\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}